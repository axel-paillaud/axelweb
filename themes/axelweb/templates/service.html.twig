{% extends 'partials/base.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    {% do assets.addJs('theme://js/toc.js', {group: 'bottom', defer: null}) %}
{% endblock %}

{% block content %}
    <div class="default-content">
        {% include 'partials/components/breadcrumb.html.twig' %}

        <article class="service-detail content-layout">
            <aside class="content-layout-toc"></aside>
            <div class="content-layout-main">
                <header class="service-detail-header">
                    <h1>{{ page.title }}</h1>

                    {% if page.header.subtitle %}
                        <p class="service-detail-subtitle">{{ page.header.subtitle }}</p>
                    {% endif %}
                </header>

                <div class="prose" data-toc-content>
                    {{ page.content|raw }}
                </div>

                {% set children = page.children.visible %}
                {% if children|length > 0 %}
                    <div class="service-detail-children">
                        <h2>Nos prestations</h2>
                        <ul class="service-detail-children-list">
                            {% for child in children %}
                                <li>
                                    <a href="{{ child.url }}">{{ child.title }}</a>
                                    {% if child.header.excerpt %}
                                        <p>{{ child.header.excerpt }}</p>
                                    {% endif %}
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}

                <div class="service-detail-cta">
                    <a href="/contact" class="btn btn-primary">Discuter de votre projet</a>
                </div>
            </div>
        </article>
    </div>
{% endblock %}
